<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Area riservata</title>
    <link rel="stylesheet" href="/css/areariservata.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    
    
</head>
<body>
    <!-- NAVBAR -->
    <header>    
        <nav class="navbar navbar-expand-md">
            <div class="container-fluid">
                <img class="logoN" src="/img/LOGO.update.png" alt="logo">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <div class="navbar-nav me-auto mb-2 mb-lg-0">
                        

                        <div class="linkGenere" th:each="genereFilms : ${filmPerGenere}">
                            <li class="nav-item">
                                <a th:href="@{/dettagliogenere(gen=${genereFilms.key})}" th:text="${genereFilms.key}"></a>
                            </li>
                        </div>

                        
	        				<a class="btnNav" th:href="@{/}">Home</a>
	    					

                        
                       
               
            </div>  
        </div>
        </nav>
</header>

    <!-- FINE NAVBAR -->

    <!-- DATI UTENTE -->

    <div class="container">
        <!-- sinistra -->
        <div class="sinistra">
            <div class="info-block">

                <h1 th:text="'Ciao ' + ${attore.nome} + '!'"></h1>
                <h2>Il tuo profilo</h2>  
                    <div class="data-block">        
                        <ul>       
                            <h3 th:text="${attore.nome} + ' questi sono i tuoi dati: '">I tuoi dati</h3>
                            <li th:text="'Nome: ' + ${attore.nome}"></li>
                            <li th:text="'Cognome: ' + ${attore.cognome}"></li> 
                            <li th:text="'Data di Nascita: ' + ${#temporals.format(attore.dataNascita, 'dd-MM-yyyy')}"></li>
                            <li th:text="'Email: ' + ${attore.email}"></li>
                        </ul>
                    </div> 
                <div class="delete">
                    <a th:href="@{areariservata/cancellaaccount(id=${attore.id})}" class="btn btn-danger btn-sm" th:text="'Elimina Account'">Elimina Account</a>
                </div>
            </div>
        </div>

        <!-- FOTO -->
        <div class="destra">

            <div class="ritratto">
                <div class="img-block">
                    <!-- mostra user-icon se attore.ritratto è vuoto -->
                    <img class="user-icon" th:if="${attore.ritratto == null OR attore.ritratto == ''}" src="/casting/src/main/resources/static/img/No_immagine_disponibile.svg.png" alt="">
                    
                    <!-- mostra attore.ritratto se non è vuota -->
                    <img th:if="${attore.ritratto != null and attore.ritratto != ''}" th:src="${attore.ritratto}" alt="">
                </div>

                <div class="inputs">
                    <h3>La tua foto ritratto</h3>
                    <form action="" method="post" enctype="multipart/form-data">   
                        <label for="ritratto" th:text="'Primo piano:'"></label> 
                        <label class="custom-file-input" for="ritratto">Sfoglia<input type="file" id="ritratto" name="ritratto" accept="image/*" ></label>
                        <input type="submit" class="btn btn-primary" value="Carica">
                    </form>
                </div>
            </div>
           
            <div class="intera">
                <div class="img-block">
                    <!--mostra user icon se attore.foto è vuota -->
                    <img class="user-icon" th:if="${attore.foto == null or attore.foto == ''}" src="../static/img/user_icon.png" alt="">
                    
                    <!-- mostra attore.foto se non è vuota -->
                    <img th:if="${attore.foto != null and attore.foto != ''}" th:src="${attore.foto}" alt="">
                </div>
                 
                <div class="inputs">
                    <h3>La tua foto a figura intera</h3>
            
                   <form th:object="${attore}" method="post" action="/areariservata/foto" enctype="multipart/form-data">   
                        <label for="foto" th:text="'Foto intera:'"></label>
                        <label class="custom-file-input" for="foto">Sfoglia<input type="file" id="foto" name="foto" accept="image/*" th:field="*{foto}"></label>
                        <input type="submit" class="btn btn-primary" value="Carica">
                    </form>
                </div>
            </div>
                          
        </div>
    </div>
</body>
</html>